<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Login</title>
		<link rel="stylesheet" href="style(login).css" />
	</head>
	<body>
		<header>
			<a href="home.html">Home</a>
		</header>

		<main>
			<h1>Login</h1>
			<form id="formLogin">
				<div>
					<label for="usuario">Email ou Usuário:</label>
					<input
						type="text"
						id="usuario"
						name="usuario"
						placeholder="Digite seu email ou usuário"
						required
					/>
				</div>

				<div>
					<label for="senha">Senha:</label>
					<input
						type="password"
						id="senha"
						name="senha"
						placeholder="********"
						required
					/>
				</div>

				<div class="remember-me">
					<input type="checkbox" id="lembrar" name="lembrar" />
					<label for="lembrar">Lembrar-me</label>
				</div>

				<div class="buttons">
					<button type="submit">Entrar</button>
				</div>
			</form>
			<p>Ainda não tem uma conta? <a href="cadastro.html">Cadastre-se</a></p>
		</main>

		<footer></footer>

		<script>
			const formLogin = document.getElementById("formLogin");

			formLogin.addEventListener("submit", (event) => {
				event.preventDefault();

				const usuario = document.getElementById("usuario").value.trim();
				const senha = document.getElementById("senha").value.trim();
				const userData = JSON.parse(localStorage.getItem("usuarioCadastrado"));

				if (!userData) {
					alert("⚠️ Nenhum usuário cadastrado! Faça o cadastro primeiro.");
					return;
				}

				if (
					(usuario === userData.usuario || usuario === userData.email) &&
					senha === userData.senha
				) {
					alert("✅ Login realizado com sucesso!");
					window.location.href = "home.html";
				} else {
					alert("❌ Usuário ou senha incorretos!");
				}
			});
		</script>
	</body>
</html>
